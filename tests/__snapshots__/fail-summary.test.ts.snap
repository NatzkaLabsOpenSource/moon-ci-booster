// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`failures with default settings > console output contains collapsible blocks for all tasks 1`] = `
"::group::stderr for c:make-error
This is an error message
::endgroup::
::group::stderr for b:make-error
Error: something went wrong in project b
::endgroup::
::group::stdout for b:make-error
Starting build...
Compiling module B...
::endgroup::
::group::stderr for a:make-error
This is an error message
::endgroup::"
`;

exports[`failures with default settings > step summary is a lightweight table 1`] = `
"## :x: Moon CI Failure Summary

**3 tasks failed**

| Target | Error |
| --- | --- |
| \`c:make-error\` | Task c:make-error failed to run. |
| \`b:make-error\` | Task b:make-error failed to run. |
| \`a:make-error\` | Task a:make-error failed to run. |
"
`;

exports[`no failures > console output 1`] = `"No failing tasks found."`;

exports[`no report warns gracefully 1`] = `"::warning::Run report does not exist, has \`moon ci\` or \`moon run\` ran?"`;

exports[`per-task PR comments > comment text matches snapshot 1`] = `
[
  "<!-- moon-ci-booster-c:make-error -->

## :x: \`c:make-error\`

**Error:** Task c:make-error failed to run.
<details><summary><strong>stderr</strong></summary>

\`\`\`
This is an error message
\`\`\`

</details>
",
  "<!-- moon-ci-booster-b:make-error -->

## :x: \`b:make-error\`

**Error:** Task b:make-error failed to run.
<details><summary><strong>stderr</strong></summary>

\`\`\`
Error: something went wrong in project b
\`\`\`

</details>
",
  "<!-- moon-ci-booster-a:make-error -->

## :x: \`a:make-error\`

**Error:** Task a:make-error failed to run.
<details><summary><strong>stderr</strong></summary>

\`\`\`
This is an error message
\`\`\`

</details>
",
]
`;

exports[`per-task PR comments > console output still contains collapsible blocks 1`] = `
"::group::stderr for c:make-error
This is an error message
::endgroup::
::group::stderr for b:make-error
Error: something went wrong in project b
::endgroup::
::group::stdout for b:make-error
Starting build...
Compiling module B...
::endgroup::
::group::stderr for a:make-error
This is an error message
::endgroup::"
`;
